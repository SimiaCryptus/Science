<!-- SEO Meta Tags -->
<title>{% if page.meta_title %}{{ page.meta_title }}{% else %}{{ page.title }}{% endif %}{% if page.title %} | {{ site.title }}{% endif %}</title>
<meta name="description" content="{% if page.meta_description %}{{ page.meta_description }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta name="keywords" content="{% if page.meta_keywords %}{{ page.meta_keywords }}{% elsif page.keywords %}{{ page.keywords | join: ', ' }}{% endif %}">
<meta name="author" content="{% if page.authors %}{{ page.authors | join: ', ' }}{% else %}{{ site.author }}{% endif %}">

<!-- Canonical URL -->
<link rel="canonical" href="{% if page.canonical_url %}{{ page.canonical_url }}{% else %}{{ page.url | absolute_url }}{% endif %}">

<!-- Alternate URLs -->
{% if page.alternate_urls %}
  {% for alt_url in page.alternate_urls %}
    <link rel="alternate" href="{{ alt_url }}">
  {% endfor %}
{% endif %}

<!-- Hreflang Tags -->
{% if page.hreflang %}
  {% for hreflang in page.hreflang %}
    <link rel="alternate" hreflang="{{ hreflang.lang }}" href="{{ hreflang.url }}">
  {% endfor %}
{% endif %}

<!-- Robots Meta -->
<meta name="robots" content="{% if page.robots %}{{ page.robots }}{% else %}index,follow{% endif %}">
<meta name="googlebot" content="{% if page.googlebot %}{{ page.googlebot }}{% else %}index,follow{% endif %}">
<meta name="bingbot" content="{% if page.bingbot %}{{ page.bingbot }}{% else %}index,follow{% endif %}">

<!-- Content Classification -->
{% if page.content_rating %}<meta name="rating" content="{{ page.content_rating }}">{% endif %}
{% if page.content_language %}<meta name="content-language" content="{{ page.content_language }}">{% endif %}
{% if page.geo_region %}<meta name="geo.region" content="{{ page.geo_region }}">{% endif %}
{% if page.geo_placename %}<meta name="geo.placename" content="{{ page.geo_placename }}">{% endif %}
{% if page.geo_position %}<meta name="geo.position" content="{{ page.geo_position }}">{% endif %}

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="{% if page.og_title %}{{ page.og_title }}{% else %}{{ page.title }}{% endif %}">
<meta property="og:description" content="{% if page.og_description %}{{ page.og_description }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta property="og:type" content="{% if page.og_type %}{{ page.og_type }}{% else %}article{% endif %}">
<meta property="og:url" content="{{ page.url | absolute_url }}">
<meta property="og:site_name" content="{% if page.og_site_name %}{{ page.og_site_name }}{% else %}{{ site.title }}{% endif %}">
<meta property="og:locale" content="{% if page.og_locale %}{{ page.og_locale }}{% else %}en_US{% endif %}">
{% if page.og_image %}<meta property="og:image" content="{{ page.og_image | absolute_url }}">{% elsif page.featured_image %}<meta property="og:image" content="{{ page.featured_image | absolute_url }}">{% endif %}
{% if page.date %}<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">{% endif %}
{% if page.last_modified %}<meta property="article:modified_time" content="{{ page.last_modified | date_to_xmlschema }}">{% endif %}
{% if page.authors %}
  {% for author in page.authors %}
    <meta property="article:author" content="{{ author }}">
  {% endfor %}
{% endif %}
{% if page.tags %}
  {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
{% endif %}

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if page.og_title %}{{ page.og_title }}{% else %}{{ page.title }}{% endif %}">
<meta name="twitter:description" content="{% if page.og_description %}{{ page.og_description }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
{% if page.og_image %}<meta name="twitter:image" content="{{ page.og_image | absolute_url }}">{% elsif page.featured_image %}<meta name="twitter:image" content="{{ page.featured_image | absolute_url }}">{% endif %}
{% if site.twitter_username %}<meta name="twitter:site" content="@{{ site.twitter_username }}">{% endif %}

<!-- Performance and Resource Hints -->
{% if page.preload_resources %}
  {% for resource in page.preload_resources %}
    <link rel="preload" href="{{ resource }}" as="{% if resource contains '.css' %}style{% elsif resource contains '.js' %}script{% elsif resource contains '.woff' %}font{% else %}fetch{% endif %}"{% if resource contains '.woff' %} crossorigin{% endif %}>
  {% endfor %}
{% endif %}

{% if page.prefetch_resources %}
  {% for resource in page.prefetch_resources %}
    <link rel="prefetch" href="{{ resource }}">
  {% endfor %}
{% endif %}

{% if page.dns_prefetch %}
  {% for domain in page.dns_prefetch %}
    <link rel="dns-prefetch" href="{{ domain }}">
  {% endfor %}
{% endif %}

<!-- Structured Data -->
{% include structured_data.html %}